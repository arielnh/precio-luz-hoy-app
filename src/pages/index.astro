---

import { boolean } from 'astro/zod';
import Layout from '../layouts/Layout.astro';

const res = await fetch("https://api.preciodelaluz.org/v1/prices/all?zone=PCB")
const data = await res.json();


const currentDate = new Date();
const year = currentDate.getFullYear();
const month = String(currentDate.getMonth() + 1).padStart(2, '0');
const day = String(currentDate.getDate()).padStart(2, '0');
const formattedDate = `${day}-${month}-${year}`;

console.log(formattedDate)
---

<Layout title="Precio luz hoy.">
	<main>
		<h1 class="text-4xl justify-center flex p-4  font-bold text-stone-600">Precio de la luz ðŸ’¡</h1>
		<div class="items-center flex flex-col p-4">
			<p class="p-4 text-stone-600 font-mono">Precios a {formattedDate} en â‚¬/MWh</p>
			<h2 class="text-2xl justify-left px-16 p-2 font-semibold flex text-stone-600">Por la maÃ±ana</h2>

				<ul class="px-4 py-2 text-stone-600 font-mono text-lg">

					<li class="justify-left px-4 p-2"
					>De 07:00 a 08:00 | <span
					class:list={[
						
					{
							"underline decoration-lime-500 decoration-4" : data['07-08']['is-cheap'],
							"underline decoration-amber-400 decoration-4" : data['07-08']['is-under-avg']
					}
					]} >{(data['07-08'].price).toFixed(2)} â‚¬</span></li>
					
					<li class="justify-left px-4 p-2"
					>De 08:00 a 09:00 | <span
					class:list={[
						
					{
							"underline decoration-lime-500 decoration-4" : data['08-09']['is-cheap'],
							"underline decoration-amber-400 decoration-4" : data['08-09']['is-under-avg']
					}
					]} >{(data['08-09'].price).toFixed(2)} â‚¬</span></li>

								
					<li class="justify-left px-4 p-2"
					>De 09:00 a 10:00 | <span
					class:list={[
						
					{
							"underline decoration-lime-500 decoration-4" : data['09-10']['is-cheap'],
							"underline decoration-amber-400 decoration-4" : data['09-10']['is-under-avg']
					}
					]} >{(data['09-10'].price).toFixed(2)} â‚¬</span></li>
											
					<li class="justify-left px-4 p-2"
					>De 10:00 a 11:00 | <span
					class:list={[
						
					{
							"underline decoration-lime-500 decoration-4" : data['10-11']['is-cheap'],
							"underline decoration-amber-400 decoration-4" : data['10-11']['is-under-avg']
					}
					]} >{(data['10-11'].price).toFixed(2)} â‚¬</span></li>
					
					<li class="justify-left px-4 p-2"
					>De 11:00 a 12:00 | <span
					class:list={[
						
					{
							"underline decoration-lime-500 decoration-4" : data['11-12']['is-cheap'],
							"underline decoration-amber-400 decoration-4" : data['11-12']['is-under-avg']
					}
					]} >{(data['11-12'].price).toFixed(2)} â‚¬</span></li>
				</ul>

			<h2 class="text-2xl justify-left px-16 p-2 font-semibold flex text-stone-600">Por el dÃ­a</h2>

				<ul class="px-4 py-2 text-stone-600 font-mono text-lg">

					<li class="justify-left px-4 p-2"
					>De 12:00 a 13:00 | <span
					class:list={[
						
					{
							"underline decoration-lime-500 decoration-4" : data['12-13']['is-cheap'],
							"underline decoration-amber-400 decoration-4" : data['12-13']['is-under-avg']
					}
					]} >{(data['12-13'].price).toFixed(2)} â‚¬</span></li>
					
					<li class="justify-left px-4 p-2"
					>De 13:00 a 14:00 | <span
					class:list={[
						
					{
							"underline decoration-lime-500 decoration-4" : data['13-14']['is-cheap'],
							"underline decoration-amber-400 decoration-4" : data['13-14']['is-under-avg']
					}
					]} >{(data['13-14'].price).toFixed(2)} â‚¬</span></li>

								
					<li class="justify-left px-4 p-2"
					>De 14:00 a 15:00 | <span
					class:list={[
						
					{
							"underline decoration-lime-500 decoration-4" : data['14-15']['is-cheap'],
							"underline decoration-amber-400 decoration-4" : data['14-15']['is-under-avg']
					}
					]} >{(data['14-15'].price).toFixed(2)} â‚¬</span></li>
											
					<li class="justify-left px-4 p-2"
					>De 15:00 a 16:00 | <span
					class:list={[
						
					{
							"underline decoration-lime-500 decoration-4" : data['15-16']['is-cheap'],
							"underline decoration-amber-400 decoration-4" : data['15-16']['is-under-avg']
					}
					]} >{(data['15-16'].price).toFixed(2)} â‚¬</span></li>
					
					<li class="justify-left px-4 p-2"
					>De 16:00 a 17:00 | <span
					class:list={[
						
					{
							"underline decoration-lime-500 decoration-4" : data['16-17']['is-cheap'],
							"underline decoration-amber-400 decoration-4" : data['16-17']['is-under-avg']
					}
					]} >{(data['16-17'].price).toFixed(2)} â‚¬</span></li>

					<li class="justify-left px-4 p-2"
					>De 17:00 a 18:00 | <span
					class:list={[
						
					{
							"underline decoration-lime-500 decoration-4" : data['17-18']['is-cheap'],
							"underline decoration-amber-400 decoration-4" : data['17-18']['is-under-avg']
					}
					]} >{(data['17-18'].price).toFixed(2)} â‚¬</span></li>
				</ul>				
			
			<h2 class="text-2xl justify-left px-16 p-2 font-semibold flex text-stone-600">Vespertino</h2>	

				<ul class="px-4 py-2 text-stone-600 font-mono text-lg">

					<li class="justify-left px-4 p-2"
					>De 18:00 a 19:00 | <span
					class:list={[
						
					{
							"underline decoration-lime-500 decoration-4" : data['18-19']['is-cheap'],
							"underline decoration-amber-400 decoration-4" : data['18-19']['is-under-avg']
					}
					]} >{(data['18-19'].price).toFixed(2)} â‚¬</span></li>
					
					<li class="justify-left px-4 p-2"
					>De 19:00 a 20:00 | <span
					class:list={[
						
					{
							"underline decoration-lime-500 decoration-4" : data['19-20']['is-cheap'],
							"underline decoration-amber-400 decoration-4" : data['19-20']['is-under-avg']
					}
					]} >{(data['19-20'].price).toFixed(2)} â‚¬</span></li>

								
					<li class="justify-left px-4 p-2"
					>De 20:00 a 21:00 | <span
					class:list={[
						
					{
							"underline decoration-lime-500 decoration-4" : data['20-21']['is-cheap'],
							"underline decoration-amber-400 decoration-4" : data['20-21']['is-under-avg']
					}
					]} >{(data['20-21'].price).toFixed(2)} â‚¬</span></li>
											
					<li class="justify-left px-4 p-2"
					>De 21:00 a 22:00 | <span
					class:list={[
						
					{
							"underline decoration-lime-500 decoration-4" : data['21-22']['is-cheap'],
							"underline decoration-amber-400 decoration-4" : data['21-22']['is-under-avg']
					}
					]} >{(data['21-22'].price).toFixed(2)} â‚¬</span></li>
					
					<li class="justify-left px-4 p-2"
					>De 22:00 a 23:00 | <span
					class:list={[
						
					{
							"underline decoration-lime-500 decoration-4" : data['22-23']['is-cheap'],
							"underline decoration-amber-400 decoration-4" : data['22-23']['is-under-avg']
					}
					]} >{(data['22-23'].price).toFixed(2)} â‚¬</span></li>

					<li class="justify-left px-4 p-2"
					>De 23:00 a 24:00 | <span
					class:list={[
						
					{
							"underline decoration-lime-500 decoration-4" : data['23-24']['is-cheap'],
							"underline decoration-amber-400 decoration-4" : data['23-24']['is-under-avg']
					}
					]} >{(data['23-24'].price).toFixed(2)} â‚¬</span></li>
				</ul>
	</div>
	</main>
</Layout>

